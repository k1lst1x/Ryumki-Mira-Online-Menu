/* ========================= THEME / TOKENS ========================= */
:root{
  --bg:#0f1012; --bg-elev:#17181a; --sep:#2a2e35;
  --text:#f1f1f1; --muted:#a7acb7;
  --brand:#2563eb; --brand-2:#1e3a8a; --accent:#ff7a1a;
  --ring:rgba(37,99,235,.35); --shadow:0 8px 24px rgba(0,0,0,.35);


  /* текстура «страницы паспорта» по умолчанию */
  --passport-fallback:url('/static/img/passport-page.png');

  /* ===== ЛИСТ КАТЕГОРИЙ (карточки в сетке) — РУЧКИ ===== */
  /* размер фон-страницы внутри карточек листа */
  --pc-passport-size-desktop:cover;   /* cover | 120% auto | auto 110% */
  --pc-passport-size-mobile:  cover;

  /* единая высота строки сетки и типографика */
  --pc-card-h-desktop: 300px;
  --pc-card-h-mobile-min: 220px;        /* адаптивная мобильная высота: нижний порог */
  --pc-card-h-mobile-max: 320px;        /* верхний порог */
  --pc-card-h-mobile: clamp(var(--pc-card-h-mobile-min), 56vw, var(--pc-card-h-mobile-max));

  --pc-title-size: 1rem;
  --pc-desc-size: .80rem;
  --pc-price-size: 1rem;
  --pc-title-lines: 2;
  --pc-desc-lines: 10;

  /* ширина колонок карточки (фото | текст) */
  --pc-photo-col-desktop: 0.90fr;  /* ← делай меньше, будет меньше фото */
  --pc-info-col-desktop:  1.30fr;

  /* фото в карточке листа */
  --pc-photo-ratio-desktop: 1/1;
  --pc-photo-ratio-mobile: 1;   /* квадрат */
  --pc-photo-fit: cover;

  /* подложка под текст (лист) */
  --pc-info-bg-color: transparent;
  --pc-info-bg-blur: 0px;
  --pc-info-bg-inset-t: 6px;
  --pc-info-bg-inset-r: 8px;
  --pc-info-bg-inset-b: 10px;
  --pc-info-bg-inset-l: 8px;

  /* ===== СТРАНИЦА БЛЮДА (dish detail) — РУЧКИ ===== */
  /* паспортный фон во весь контейнер (cover + bleed) */
  --dish-passport-rot: 90deg;       /* 0deg если не нужен поворот */
  --dish-passport-opacity: 1;
  --dish-passport-bleed: 1%;        /* вылет за границы на ПК */
  --dish-passport-bleed-m: 24%;     /* вылет на мобилке */

  /* фото блюда сверху */
  --dish-photo-ratio-desktop: 4/3;      /* 1/1 или 4/3 — выше */
  --dish-photo-min-h-desktop: 320px;    /* 280–320 чтобы «чуть ниже» */
  --dish-photo-ratio-mobile: 4/3;
  --dish-photo-min-h-mobile: 240px;

  /* масштаб фото (поджать) */
  --dish-photo-scale-desktop: 0.88;     /* ПК: 88% ширины контейнера */
  --dish-photo-scale-mobile:  0.90;     /* мобилка: около -10% */

  /* подложка под текст (detail) */
  --dish-info-bg: transparent;          /* rgba(255,255,255,.75) для «стекла» */
  --dish-info-blur: 0px;
  --dish-info-inset-t: 6px;
  --dish-info-inset-r: 6px;
  --dish-info-inset-b: 6px;
  --dish-info-inset-l: 6px;
}

/* усиливаем с 992px: фото ещё чуть уже */
@media (min-width: 992px){
  :root{
    --pc-photo-col-desktop: 0.88fr;
    --pc-info-col-desktop:  1.32fr;
  }
}

@font-face {
  font-family: 'Roboto';
  src: url('../fonts/Roboto-VariableFont_wdth,wght.ttf') format('truetype');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Inter';
  src: url('../fonts/Inter-VariableFont_opsz,wght.ttf') format('truetype');
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@font-face{
  font-family: 'IceTea';
  src: url('../fonts/IceTea.ttf') format('truetype');
  font-weight: 400 600;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: 'Pacifico';
  src: url('../fonts/Pacifico-Regular.ttf') format('truetype');
  font-weight: 400 600;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: 'YesevaOne';
  src: url('../fonts/YesevaOne-Regular.ttf') format('truetype');
  font-weight: 400 600;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: 'AristaPro';
  src: url('../fonts/AristaPro-Regular.ttf') format('truetype');
  font-weight: 400 600;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: 'Lora';
  src: url('../fonts/Lora-Italic-VariableFont_wght.ttf') format('truetype');
  font-weight: 400 600;
  font-style: normal;
  font-display: swap;
}

/* ========================= RESET / BASE ========================= */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Inter',system-ui,-apple-system,Arial,sans-serif;
  background:var(--bg); color:var(--text);
  background: 
    linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),
    url('../img/bg.png') center top repeat-y;
    background-size: auto;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
.container{width:100%;max-width:1550px;margin:0 auto;padding:4.5rem 1.25rem 3rem}
main{padding:0}
.muted{color:var(--muted);font-size:.95rem;font-weight: 500;}
@media (max-width:720px){body{
  background:
    linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),
    url('../img/bg.png') center top repeat-y;
    background-size:180%;}}
/* ========================= TYPO / UTIL ========================= */
h2{font-size:1.6rem;margin-bottom:.7rem;margin-top:1rem;color:#63a7ff;font-weight:700}
.section-subtitle{color:var(--muted);font-size:.85rem;margin-bottom:1rem;font-style:italic}
.section-sep{margin:1.5rem 0;border:0;border-top:1px solid var(--sep)}
.ellipsis{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.ellipsis-2{}
  /* display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;word-break: break-all} */
.ellipsis-3{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden} 
.category-heading{margin:2rem 0 12px;font-size:1.15rem;font-weight:650;color:#e6ecff;display:flex;align-items:center;gap:.5rem}
@media (max-width:720px){h2{font-size:1.375rem}
.container{width:100%;max-width:1550px;margin:0 auto;padding:3rem 1.25rem 2rem}
}
/* ========================= BUTTONS ========================= */
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:8px 12px;border-radius:8px;border:1px solid #ddd;background:#f6f6f6;color:#111;
  cursor:pointer;font-weight:600;transition:filter .15s,background .15s,border-color .15s
}
.btn:hover{background:#eee; color:#111;}
.btn-primary{background:#111;color:#fff;border-color:#111}
.btn-primary:hover{filter:brightness(1.05)}
.btn-muted{background:#fafafa}

/* ========================= NAVBAR ========================= */
.navbar2{position:fixed;top:0;z-index:1000;width:100%}
.navbar-top{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.8rem 1rem;flex-wrap: nowrap;background: 000;border-bottom: 1px solid var(--sep);background-color: #0b0c0e;}
.logo{display:flex;align-items:center;gap:.6rem;text-decoration:none;color:#f1f1f1;font-weight:700;font-size:1.2rem;white-space:nowrap;overflow: hidden; max-height: 60px;}
.logo-img{width:42px;height:42px;border-radius:8px;object-fit:cover}
.navbar-right{display:flex;align-items:center;white-space:nowrap;gap:.8rem}
.messengers{display:flex;align-items:center;gap:0.8rem}
/* .social-link{color:#f1f1f1;text-decoration:none;font-weight:500}
.social-link:hover{color:#0039ff} */
.social-link img{width:32px;height:32px;
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(7441%) hue-rotate(231deg) brightness(109%) contrast(94%);
  transition: filter 0.3s ease, transform 0.2s ease;
}
.social-link img:hover,
.social-link img:active{
  filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(7483%) hue-rotate(203deg) brightness(122%) contrast(97%)
          drop-shadow(0 0 3px #0039ff)
          drop-shadow(0 0 7px #0039ff);
  transform: scale(1.05);
}

.navbar-cats { position: relative; padding: .35rem .75rem; overflow: hidden;background: rgba(0, 0, 0, 0.22); /* прозрачность — регулируй */
  -webkit-backdrop-filter: brightness(0.9);
  backdrop-filter: blur(8px);}
.scroll-hint { display: none; position: absolute; top: 0; bottom: 0; width: 56px; pointer-events: none; z-index: 5; background-repeat: no-repeat; background-position: center; background-size: 28px; transition: opacity .25s; opacity: 0; }
.scroll-hint.left { left: -20px; background-image: linear-gradient(to right, rgba(25,25,25,0.9), transparent 70%), url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='white' stroke='white' stroke-width='1.5' viewBox='0 0 24 24'><path d='M15 18l-6-6 6-6'/></svg>"); }
.scroll-hint.right { right: -20px; background-image: linear-gradient(to left, rgba(25,25,25,0.9), transparent 70%), url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='white' stroke='white' stroke-width='1.5' viewBox='0 0 24 24'><path d='M9 6l6 6-6 6'/></svg>"); }
@media (max-width: 768px) { .scroll-hint { display: block; } }
.scroll-hint.visible { opacity: 1; }
.nav-cats{display:flex;align-items:center;gap:clamp(.25rem,2vw,.75rem);list-style:none;overflow-x:auto;white-space:nowrap;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;scrollbar-width:none}
.nav-cats::-webkit-scrollbar{display:none}
.nav-cats li{flex:0 0 auto}
.cat-link{display:inline-flex;align-items:center;gap:.35rem;font-size:.85rem;font-weight:500;line-height:1.1;
  color:#ffffff;text-decoration:none;opacity:.9;padding:clamp(.25rem,.8vw,.45rem) clamp(.45rem,1.4vw,.7rem);
  border-radius:10px;background: rgba(179, 179, 179, 0.2);transition:background .15s,opacity .15s;scroll-snap-align:center}
.cat-link:hover{background:rgba(255,255,255,.06);opacity:1}
.badge-21{display:inline-flex;align-items:center;justify-content:center;height:22px;padding:0 8px;border-radius:999px;background:#b91c1c;color:#fff;font-weight:800;font-size:.72rem}
@media (max-width:720px){.navbar-top{padding:.6rem .4rem;height: 3.75rem;}.logo-img{width:100%;height:100%;object-fit: contain;max-width: 59px}.logo{font-size:1.1rem;}.navbar-cats{padding:.25rem .5rem;margin-top:10px}
.social-link img{width:22px;height:22px} .messengers{gap:0.6rem} .navbar-right{gap:.6rem}}
@media(max-width:380px){.logo{font-size:.89rem;}}
/* ========================== LANG-SWITCHER ========================= */
.lang-select { position: relative; display: inline-block; font-family: inherit; }
.lang-btn { background: none; color: inherit; border: 1px solid rgba(255, 255, 255, .25); border-radius: 6px;
padding: .6rem .6rem; cursor: pointer; font-size: 1rem; line-height: 1; display: flex; align-items: center; gap: .25rem; transition: background .2s, border-color .2s; }
.lang-btn::after { content: "▼"; font-size: .7rem; opacity: .7; transform: translateY(-1px); }
.lang-btn:hover, .lang-btn:focus { border-color: #0039ff; outline: none;
    filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(7483%) hue-rotate(203deg) brightness(122%) contrast(97%)
          drop-shadow(0 0 3px #0039ff)
          drop-shadow(0 0 7px #0039ff);
  transform: scale(1.05);
 }
.lang-menu { position: absolute; top: 115%; left: 0; background: rgba(20, 20, 20, 0.95); border: 1px solid rgba(255, 255, 255, .2); border-radius: 6px; list-style: none; padding: .25rem 0; margin: 0; display: none; min-width: 100%; z-index: 100; box-shadow: 0 2px 6px rgba(0, 0, 0, .4); }
.lang-menu a { display: block; color: #fff; text-decoration: none; padding: .4rem .75rem; font-size: .95rem; text-align: left; }
.lang-menu a:hover { background: rgba(255, 255, 255, .1); }
@media (max-width: 720px) { .lang-btn { padding: .4rem .5rem; font-size: .9rem; } .lang-menu a { padding: .4rem .7rem; font-size: .9rem; } }

/* ========================= H SCROLLER ========================= */
.scroll-container{position:relative}
.scroll-row{display:flex;gap:1rem;overflow-x:auto;scroll-behavior:smooth;padding:.25rem;height:auto;}
.scroll-row::-webkit-scrollbar{display:none}

/* ========================= POPULAR CARDS ========================= */
.popular-card{flex:0 0 55%;max-width:45%;background: rgba(179, 179, 179, 0.1); /* прозрачность — регулируй */
  -webkit-backdrop-filter: brightness(0.9);
  backdrop-filter: blur(2px);border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.4);padding:.6rem;transition:transform .2s,box-shadow .2s;display:flex;flex-direction:column;align-items:center;text-align:center;margin:2%}
.popular-card:hover{transform:translateY(-5px);box-shadow:0 0 12px rgba(0,85,255,.5)}
.popular-link{color:inherit;text-decoration:none}
.popular-img{position:relative;width:100%;aspect-ratio:1/1;overflow:hidden;border-radius:8px;margin-bottom:.5rem;background:#0b0c0e}
.popular-img img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.popular-title{font-size:.9rem;font-weight:700;margin:.2rem 0;color:#f1f1f1;line-height:1.3}
.popular-price{margin-top:auto;font-size:.85rem;font-weight:700;color:#ff7a1a;align-self: center;}
@media (min-width:768px){.popular-card{flex:0 0 30%;max-width:30%}}
@media (min-width:1200px){.popular-card{flex:0 0 160px;max-width:160px;height:240px}}

/* ========================= PASSPORT GRID (лист) ========================= */
.passport-grid{display:grid;gap:14px;grid-template-columns:repeat(3,minmax(0,1fr));grid-auto-rows:var(--pc-card-h-desktop)}
@media (max-width:992px){.passport-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:720px){
  .passport-grid{
    grid-template-columns:1fr;
    grid-auto-rows: var(--pc-card-h-mobile);
    gap:14px;
  }
}

/* ========================= PASSPORT CARD (лист) ========================= */
.passport-card{
  --passport: var(--passport-fallback);
  position:relative; isolation:isolate;
  height:100%;
  display:grid; gap:12px;
  align-content:center;

  /* ширина колонок задаётся ручками */
  grid-template-columns:1fr 1fr;

  padding:12px; border-radius:14px; overflow:hidden;

  /* фон-страница (лист) */
  background: var(--passport) center / var(--pc-passport-size-desktop) no-repeat,
              #f2f1ea;

  box-shadow:0 10px 24px rgba(0,0,0,.22), 0 0 0 1px rgba(0,0,0,.18) inset;
  color:#0f172a;
}

/* Фото слева */
.pc-photo{
  order:1;height:100%;min-height:0;border-radius:10px;overflow:hidden;
  display:flex;align-items:center;justify-content:center;
  /* box-shadow:inset 0 0 0 1px rgba(0,0,0,.06), 0 4px 12px rgba(0,0,0,.15); */
  
}
.pc-photo img{width:100%;height:100%;object-fit:var(--pc-photo-fit);display:block;border-radius: 10px;}
@media (max-width:720px){.pc-photo{width:100%;height:100%;aspect-ratio:var(--pc-photo-ratio-mobile)}}

/* Текст + закреплённая цена */
.pc-info{
  order:2;min-width:0;position:relative;
  display:grid;grid-template-rows:auto 1fr;gap:.5rem;
  padding:16px 6px 0px 6px; /* резерв под закреплённую цену */
  background:transparent;
  backdrop-filter:blur(1.4px);
  border-radius:14px;

}
.pc-info::before{
  content:""; position:absolute; z-index:-1;
  inset: var(--pc-info-bg-inset-t) var(--pc-info-bg-inset-r)
         var(--pc-info-bg-inset-b) var(--pc-info-bg-inset-l);
  background: var(--pc-info-bg-color);
  border-radius:12px;
  backdrop-filter: blur(var(--pc-info-bg-blur));
  -webkit-backdrop-filter: blur(var(--pc-info-bg-blur));
}
.pc-title{
  font-weight:800;color:#000;line-height:1.2;font-size:var(--pc-title-size);
  display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;
  /* -webkit-line-clamp:var(--pc-title-lines); */
  min-height:calc(1.2em * var(--pc-title-lines));
  /* margin-top:1.2rem; временное решение под дизайн */
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
/* 
      filter:
          drop-shadow(0 0 2px #ffffff);
          drop-shadow(0 0 7px #ffffff); */
}
.pc-desc{
  color:#000000;line-height:1.15;font-size:var(--pc-desc-size);font-weight: 500;
  display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;
  -webkit-line-clamp:var(--pc-desc-lines);
  /* text-shadow: -.3px -.3px 0 #cccccc, .3px -.3px 0 #cccccc, -.3px .3px 0 #cccccc, .3px .3px 0 #cccccc; */
    filter:
          drop-shadow(0 0 3px #ffffff)
          drop-shadow(0 0 7px #ffffff);
  font-family: 'Lora';
  font-weight: 600;
}
.pc-meta{display:flex;align-items:center;gap:10px}

/* «ценник-чилл»: закреплён внизу справа, больше не прыгает */
.pc-price{
  position:absolute;
  bottom:12px;
  display:inline-flex;align-items:center;gap:6px;
  font-weight:700;color:#000000;font-size:var(--pc-price-size);
  padding:6px 6px;
  white-space:nowrap; margin:0;
  letter-spacing: -0.05em;
  left:10px;top:150px;
  text-shadow: -1px -1px 0 #ffffff, 1px -1px 0 #ffffff, -1px 1px 0 #ffffff, 1px 1px 0 #ffffff;

    /* filter:
      drop-shadow(0 0 2px #ffffff) */
}
.pc-badge{margin-left:auto;height:26px;padding:0 10px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;background:#b91c1c;color:#fff;font-weight:800;font-size:.8rem}

/* мобилка карточек */
@media (max-width:720px){
  .passport-card{
    grid-template-columns:1fr 1fr;
    padding:.8rem; border-radius:12px;
    background: var(--passport) center / var(--pc-passport-size-mobile) no-repeat,
                #f2f1ea;
  }
  .pc-info{padding:1.5rem 0.4rem 0rem 0.4rem;gap:.8rem}
  .pc-price{left:0px;top:125px}
  .pc-title{font-size:.83rem}
  .pc-desc{font-size:.75rem;-webkit-line-clamp:3}
  .pc-price{font-size:.9rem}
}
@media (max-width:380px){.pc-title{font-size:.77rem}.pc-desc{font-size:.7rem}.pc-price{font-size:.86rem;left:0px;top:85px}}

/* ========================= LEGACY MENU GRID ========================= */
.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:16px;margin:2rem auto 0;padding:0 1rem;max-width:1200px;justify-content:center}
.menu-item{border-radius:12px;overflow:hidden}
.menu-item:hover{filter:brightness(1.02)}
.menu-link{display:block;color:inherit;text-decoration:none}
.menu-info{padding:.7rem;display:flex;flex-direction:column;gap:.35rem;flex:1}
.menu-item .passport-card + .menu-info{display:none}
.menu-title{font-size:.9rem;font-weight:600;line-height:1.25;color:#f1f1f1;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:calc(1.25em * 2)}
.menu-desc{font-size:.8rem;line-height:1.25;color:#a7acb7;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:calc(1.25em * 2)}
.menu-info .price{margin-top:auto;font-size:.9rem;font-weight:700;color:#ff7a1a}
@media (max-width:720px){.menu-grid{grid-template-columns:1fr;gap:12px}}

/* ========================= DISH DETAIL (вертикальный паспорт, во весь контейнер) ========================= */
.dish-detail{max-width:1100px;margin:24px auto;padding:0 16px;background:transparent;border:0;box-shadow:none;text-align:initial}

.dish-detail .passport-card{
  grid-template-columns: 1fr;
  grid-template-rows: auto 1fr; /* фото сверху, текст ниже */
  padding:12px;
  background: var(--bg-elev);
  position:relative; overflow:hidden; isolation:isolate;
}

/* паспортная текстура заполняет весь контейнер (cover + bleed) */
.dish-detail .passport-card::before{
  content:"";
  position:absolute; z-index:0;
  inset: calc(-1 * var(--dish-passport-bleed));
  background: var(--passport) 50% 50% / cover no-repeat;
  opacity: var(--dish-passport-opacity);
  pointer-events:none;
  transform-origin:center;
  transform: rotate(var(--dish-passport-rot));
}
@media (max-width:720px){
  .dish-detail .passport-card::before{ inset: calc(-1 * var(--dish-passport-bleed-m)); }
}

/* контент поверх фона */
.dish-detail .passport-card > *{ position:relative; z-index:1; }

/* крупное фото */
.dish-detail .pc-photo{
  order:1; height:auto;
  min-height: var(--dish-photo-min-h-desktop);
  aspect-ratio: var(--dish-photo-ratio-desktop);
  max-width: calc(100% * var(--dish-photo-scale-desktop)); /* поджать на ПК */
  margin-inline: auto; /* центрируем */
}
.dish-detail .pc-photo img{width:100%;height:100%;object-fit:cover}

/* текстовая секция + её подложка */
.dish-detail .pc-info{order:2;margin-top:12px;background:transparent}
.dish-detail .pc-info::before{
  content:""; position:absolute; z-index:0;
  inset: var(--dish-info-inset-t) var(--dish-info-inset-r) var(--dish-info-inset-b) var(--dish-info-inset-l);
  background: var(--dish-info-bg);
  border-radius:12px;
  backdrop-filter: blur(var(--dish-info-blur)); -webkit-backdrop-filter: blur(var(--dish-info-blur));
}

/* мобилка detail */
@media (max-width:720px){
  .dish-detail .passport-card{padding:10px}
  .dish-detail .pc-photo{
    min-height: var(--dish-photo-min-h-mobile);
    aspect-ratio: var(--dish-photo-ratio-mobile);
    max-width: calc(100% * var(--dish-photo-scale-mobile)); /* -10% на мобилке */
  }
  .dish-detail .pc-title{font-size:1.05rem}
  .dish-detail .pc-desc{-webkit-line-clamp:unset}
}

/* ========================= OVERLAYS / TOAST ========================= */
.cart-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;z-index:150}
.cart-overlay.open{display:block}
.cart-panel{position:fixed;top:0;right:-400px;width:350px;height:100%;background:var(--bg-elev);box-shadow:-2px 0 12px rgba(0,0,0,.5);transition:right .28s;z-index:200;padding:1rem;display:flex;flex-direction:column;border-left:1px solid var(--sep)}
.cart-panel.open{right:0}
.cart-header{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--sep);padding-bottom:.5rem;margin-bottom:1rem}
.cart-body{flex:1;overflow-y:auto;color:#f1f1f1}
.cart-body ul{list-style:none}
.cart-body li{margin:.5rem 0}
.finalize-btn{display:block;margin-top:1rem;background:var(--brand);color:#fff;text-align:center;padding:.6rem 1.2rem;border-radius:8px;text-decoration:none;font-weight:800}
.finalize-btn:hover{background:#3d7eff}

.age-gate-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.45);z-index:3000}
.age-gate-modal.open{display:flex}
.age-gate-card{width:min(92vw,420px);background:#fff;border-radius:14px;padding:18px 16px;box-shadow:0 20px 60px rgba(0,0,0,.25)}
.age-gate-title{margin:0 0 8px;font-size:20px;color:#111}
.age-gate-text{margin:0 0 14px;color:#444}
.age-gate-actions{display:flex;gap:10px;justify-content:flex-end}

.age-locked [data-requires-age="21"] .requires-21-visual,
.age-locked .requires-21 .requires-21-visual{position:relative;filter:blur(6px);user-select:none;pointer-events:none}
.age-locked [data-requires-age="21"] .requires-21-visual::after,
.age-locked .requires-21 .requires-21-visual::after{content:"21+";position:absolute;inset:0;display:grid;place-items:center;font-weight:700;font-size:22px;color:#fff;background:rgba(0,0,0,.45);border-radius:12px}

.toast-error{position:fixed;left:50%;bottom:16px;transform:translateX(-50%);z-index:4000;display:none;max-width:min(640px,92vw)}
.toast-error.open{display:block}
.toast-error[aria-hidden="true"]{display:none !important}


/* =========test======== */
.detail-actions {
  position: relative;
}

/* =====passport-card is-vertical====== */
.passport-card.is-vertical {
  background-position: center;
  background-size: 100% 100%;
  background-repeat: no-repeat;
  background-color: transparent;

}

/* lang-selector */
.lang-switch {
  position: relative;
  display: inline-block;
}

.lang-switch select {
  background-color: #0b0c0e; /* совпадает с navbar */
  color: #f1f1f1;
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 6px;
  padding: 6px 28px 6px 10px; /* место справа под стрелку */
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s, background-color 0.2s, box-shadow 0.2s;
  appearance: none;          /* убираем стандартную стрелку */
  -webkit-appearance: none;
  -moz-appearance: none;
  line-height: 1.2;
  height: 32px;              /* добавляем высоту, чтобы не сжимался */
}



/* hover и focus */
.lang-switch select:hover {
  border-color: #f1f1f1;
  background-color: rgba(255, 255, 255, 0.05);
}

.lang-switch select option {
  background-color: #0b0c0e; /* тёмный фон */
  color: #f1f1f1;            /* светлый текст */
}

/* === ОДИНАКОВЫЙ БЛЮР ДЛЯ ВСЕЙ КАРТОЧКИ 21+ === */

/* 0) Карточка под оверлей, клики глушим */
.age-locked [data-requires-age="21"] .passport-card,
.age-locked .requires-21 .passport-card,
.age-locked .passport-card.requires-21 {
  position: relative;
  pointer-events: none;
}

/* 1) Выключаем локальные фильтры/тени и фоновые блюры внутри,
      чтобы не было «второго» размытия справа */
.age-locked [data-requires-age="21"] .passport-card .pc-info,
.age-locked .requires-21 .passport-card .pc-info,
.age-locked .passport-card.requires-21 .pc-info {
  /* глушим фон-подложку у правой колонки */
  background: transparent !important;
}
.age-locked [data-requires-age="21"] .passport-card .pc-info::before,
.age-locked .requires-21 .passport-card .pc-info::before,
.age-locked .passport-card.requires-21 .pc-info::before {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: transparent !important;
}

/* убираем тени/фильтры у текста, чтобы контуры не читались */
.age-locked [data-requires-age="21"] .passport-card .pc-info *,
.age-locked .requires-21 .passport-card .pc-info *,
.age-locked .passport-card.requires-21 .pc-info * {
  text-shadow: none !important;
  color: transparent !important;
  filter: none !important;
}

/* 2) ЕДИНЫЙ оверлей с одинаковым блюром для всей карточки */
:root { --age-blur: 12px; } /* меняешь тут — меняется везде */

.age-locked [data-requires-age="21"] .passport-card::after,
.age-locked .requires-21 .passport-card::after,
.age-locked .passport-card.requires-21::after {
  content: "Меню 21+";
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  z-index: 3;
  border-radius: inherit;

  /* единый блюр на всю площадь */
  backdrop-filter: blur(var(--age-blur)) brightness(.85) contrast(.8);
  -webkit-backdrop-filter: blur(var(--age-blur)) brightness(.85) contrast(.8);

  /* лёгкое затемнение, чтобы точно не читалось */
  background: rgba(0,0,0,.40);
  color: #fff;
}

/* бейджи поверх */
.age-locked [data-requires-age="21"] .passport-card .badge-21,
.age-locked .requires-21 .passport-card .badge-21,
.age-locked .passport-card.requires-21 .badge-21,
.age-locked [data-requires-age="21"] .passport-card .pc-badge,
.age-locked .requires-21 .passport-card .pc-badge,
.age-locked .passport-card.requires-21 .pc-badge {
  position: relative;
  z-index: 4;
  filter: none !important;
  color: #fff !important;
}
